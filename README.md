# Сравнение производительности 3-х реализаций листа: SoA vs AoS vs Classic

Этот проект содержит результаты тестирования производительности трех различных подходов к реализации списков:
- **SoA** (Structure of Arrays)
- **AoS** (Array of Structures)
- **Classic** (Классическая реализация через двусвязный список)

## Характеристики системы

| OS  | macOS 26.1                                    |
|-----|:----------------------------------------------|
| CPU | Apple M3 (8 core)                             |
| GCC | Apple clang version 17.0.0 (clang-1700.4.4.1) |

## Методика тестирования

| Флаги компилятора | -O3 -march=native -flto -DNDEBUG -DTEST |
|:------------------|:----------------------------------------|
|Команда запуска    |	sudo nice -n -20 ./filename.sh [N value] |

**Нагрузка на процессор**: 27-40% загрузки системы (норма 5-9%)

**Измерительная библиотека**: chrome c++.

Перед основными измерениями проводились 2 запуска для прогрева кэшей (warm-up), которые не учитывались в статистике.

### Методология

Тестирование включало следующие этапы:
1. Создание списка
2. Цикл на N итераций:
   - Получение адреса head элемента
   - Добавление элемента после head
3. Цикл на N итераций:
   - Получение адреса tail элемента
   - Удаление элемента tail
4. Удаление списка

## Результаты тестирования

### Сводные таблицы производительности

| Размер данных (N) | 1×10⁸ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 914.186 | 1037.95 | 1027.746 |
| Стандартное отклонение σ, мс | 28.76 | 7.7 | 36.9 |
| Медианное, мс | 924.64 | 1043.04 | 1027.21 |
| PROFIT | 1.12x | 0.99x | 1x |


| Размер данных (N) | 5×10⁸ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 6469.4 | 6806.87 | 6707.952 |
| Стандартное отклонение σ, мс | 196.1 | 85.04 | 44.6 |
| Медианное, мс | 6547 | 6801.74 | 6705.34 |
| PROFIT | 1.04x | 0.99x | 1x |


| Размер данных (N) | 1×10⁹ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 14133.498 | 17900.782 | 17740.608 |
| Стандартное отклонение σ, мс | 109.18 | 99.66 | 72.25 |
| Медианное, мс | 14103.19 | 17923.2 | 17741.44 |
| PROFIT | 1.26x | 0.99x | 1x |


| Размер данных (N) | 1.25×10⁹ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 27861.622 | 51976.852 | 57418.808 |
| Стандартное отклонение σ, мс | 1896.92	| 3512.97	| 2971.4 |
| Медианное, мс | 27133.08 | 53557.12 | 59244.35 |
| PROFIT | 2.06x | 1.10x | 1x |


| Размер данных (N) | 1.5×10⁹ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 44877.432 | 58447.066 | 59311.398 |
| Стандартное отклонение σ, мс | 5094.28 | 490.32 | 5548 |
| Медианное, мс | 44616.21 | 58216.91 | 62585.28 |
| PROFIT | 1.32x | 1.01x | 1x |


| Размер данных (N) | 2×10⁹ |
|:-|:-|
| Количество измерений | 5 |

| Время (real) | SoA  | AoS  | Classic |
|:-------------|:-----|:-----|:--------|
| Среднее ±σ, мс | 68845.164 | 95070.736 | 99287.718 |
| Стандартное отклонение σ, мс | 4613.42 | 5664.96 | 2590.52 |
| Медианное, мс | 69525.66 | 97505.29 | 97981.82 |
| PROFIT | 1.44x | 1.04x | 1x |

### Визуализация результатов

<img width="1259" height="820" alt="image" src="https://github.com/user-attachments/assets/efe8122a-180a-48bb-b4d8-c6ced128b6ae" />
